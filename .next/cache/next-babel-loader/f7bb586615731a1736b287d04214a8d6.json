{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { getSortedPostsData } from '../lib/posts';\n\nvar blogPostsXml = function blogPostsXml(blogPosts) {\n  var latestPost = 0;\n  var postsXml = \"\";\n  blogPosts.map(function (post) {\n    var postDate = Date.parse(post.createdAt);\n\n    if (!latestPost || postDate > latestPost) {\n      latestPost = postDate;\n    }\n\n    postsXml += \"\\n    <url>\\n      <loc>\".concat(post.url, \"</loc>\\n      <lastmod>\").concat(postDate, \"</lastmod>\\n      <priority>0.80</priority>\\n    </url>\");\n  });\n  return {\n    postsXml: postsXml,\n    latestPost: latestPost\n  };\n};\n\nvar sitemapXml = function sitemapXml(blogPosts) {\n  var _blogPostsXml = blogPostsXml(blogPosts),\n      postsXml = _blogPostsXml.postsXml,\n      latestPost = _blogPostsXml.latestPost;\n\n  return \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\\n    <urlset xmlns=\\\"http://www.sitemaps.org/schemas/sitemap/0.9\\\">\\n    <url>\\n      <loc>https://naina.app/</loc>\\n      <lastmod>\".concat(latestPost, \"</lastmod>\\n      <priority>1.00</priority>\\n    </url>\\n    <url>\\n      <loc>https://naina.app/posts</loc>\\n      <priority>0.8</priority>\\n    </url>\\n    <url>\\n      <loc>https://naina.app/work</loc>\\n      <priority>0.7</priority>\\n    </url>\\n    <url>\\n      <loc>https://naina.app/talks</loc>\\n      <priority>0.5</priority>\\n    </url>\\n    \").concat(postsXml, \"\\n  </urlset>\");\n};\n\nvar Sitemap = function Sitemap() {};\n\nSitemap.getInitialProps = function _callee(_ref) {\n  var res, blogPosts;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          res = _ref.res;\n          blogPosts = getSortedPostsData();\n          res.setHeader(\"Content-Type\", \"text/xml\");\n          res.write(sitemapXml(blogPosts));\n          res.end();\n\n        case 5:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};","map":{"version":3,"sources":["/Users/nainar/nainadotapp/pages/sitemap.xml.ts"],"names":["getSortedPostsData","blogPostsXml","blogPosts","latestPost","postsXml","map","post","postDate","Date","parse","createdAt","url","sitemapXml","Sitemap","getInitialProps","res","setHeader","write","end"],"mappings":";AACA,SAASA,kBAAT,QAAmC,cAAnC;;AAEA,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,SAAD,EAAuB;AAC1C,MAAIC,UAAU,GAAG,CAAjB;AACA,MAAIC,QAAQ,GAAG,EAAf;AACAF,EAAAA,SAAS,CAACG,GAAV,CAAc,UAAAC,IAAI,EAAI;AACpB,QAAMC,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAWH,IAAI,CAACI,SAAhB,CAAjB;;AACA,QAAI,CAACP,UAAD,IAAeI,QAAQ,GAAGJ,UAA9B,EAA0C;AACxCA,MAAAA,UAAU,GAAGI,QAAb;AACD;;AACDH,IAAAA,QAAQ,sCAECE,IAAI,CAACK,GAFN,oCAGKJ,QAHL,4DAAR;AAMD,GAXD;AAYA,SAAO;AACLH,IAAAA,QAAQ,EAARA,QADK;AAELD,IAAAA,UAAU,EAAVA;AAFK,GAAP;AAID,CAnBD;;AAqBA,IAAMS,UAAU,GAAG,SAAbA,UAAa,CAACV,SAAD,EAAuB;AAAA,sBACPD,YAAY,CAACC,SAAD,CADL;AAAA,MAChCE,QADgC,iBAChCA,QADgC;AAAA,MACtBD,UADsB,iBACtBA,UADsB;;AAExC,kMAIeA,UAJf,4WAmBIC,QAnBJ;AAqBD,CAvBD;;AAyBA,IAAMS,OAAO,GAAG,SAAVA,OAAU,GAAM,CAAE,CAAxB;;AAEAA,OAAO,CAACC,eAAR,GAA0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAASC,UAAAA,GAAT,QAASA,GAAT;AAClBb,UAAAA,SADkB,GACNF,kBAAkB,EADZ;AAExBe,UAAAA,GAAG,CAACC,SAAJ,CAAc,cAAd,EAA8B,UAA9B;AACAD,UAAAA,GAAG,CAACE,KAAJ,CAAUL,UAAU,CAACV,SAAD,CAApB;AACAa,UAAAA,GAAG,CAACG,GAAJ;;AAJwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAA1B","sourcesContent":["import { NextPageContext } from \"next\";\nimport { getSortedPostsData } from '../lib/posts'\n\nconst blogPostsXml = (blogPosts: Post[]) => {\n  let latestPost = 0;\n  let postsXml = \"\";\n  blogPosts.map(post => {\n    const postDate = Date.parse(post.createdAt);\n    if (!latestPost || postDate > latestPost) {\n      latestPost = postDate;\n    }\n    postsXml += `\n    <url>\n      <loc>${post.url}</loc>\n      <lastmod>${postDate}</lastmod>\n      <priority>0.80</priority>\n    </url>`;\n  });\n  return {\n    postsXml,\n    latestPost\n  };\n};\n\nconst sitemapXml = (blogPosts: Post[]) => {\n  const { postsXml, latestPost } = blogPostsXml(blogPosts);\n  return `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n    <urlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\">\n    <url>\n      <loc>https://naina.app/</loc>\n      <lastmod>${latestPost}</lastmod>\n      <priority>1.00</priority>\n    </url>\n    <url>\n      <loc>https://naina.app/posts</loc>\n      <priority>0.8</priority>\n    </url>\n    <url>\n      <loc>https://naina.app/work</loc>\n      <priority>0.7</priority>\n    </url>\n    <url>\n      <loc>https://naina.app/talks</loc>\n      <priority>0.5</priority>\n    </url>\n    ${postsXml}\n  </urlset>`;\n};\n\nconst Sitemap = () => {};\n\nSitemap.getInitialProps = async ({ res }: NextPageContext) => {\n  const blogPosts = getSortedPostsData();\n  res.setHeader(\"Content-Type\", \"text/xml\");\n  res.write(sitemapXml(blogPosts));\n  res.end();\n};"]},"metadata":{},"sourceType":"module"}