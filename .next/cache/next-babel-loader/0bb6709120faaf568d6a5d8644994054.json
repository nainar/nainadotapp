{"ast":null,"code":"import { getSortedPostsData } from '../lib/posts';\nimport { parseISO, format } from 'date-fns';\n\nconst blogPostsXml = blogPostsData => {\n  let latestPost = blogPostsData[0].date;\n  let postsXml = \"\";\n  blogPostsData.map(post => {\n    const postDate = parseISO(post.date);\n\n    if (!latestPost || postDate > latestPost) {\n      latestPost = postDate;\n    }\n\n    postsXml += `\n    <url>\n<<<<<<< HEAD\n      <loc>https://naina.app/${post.id}</loc>\n=======\n      <loc>${post.id}</loc>\n>>>>>>> 90d21c1416505563ad864017b069be39758e6f79\n      <lastmod>${format(postDate, 'LLLL d, yyyy')}</lastmod>\n      <priority>0.80</priority>\n    </url>`;\n  });\n  return {\n    postsXml,\n    latestPost\n  };\n};\n\nconst sitemapXml = blogPostsData => {\n  const {\n    postsXml,\n    latestPost\n  } = blogPostsXml(blogPostsData);\n  return `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n    <urlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\">\n    <url>\n      <loc>https://naina.app/</loc>\n      <lastmod>https://naina.app/${latestPost}</lastmod>\n      <priority>1.00</priority>\n    </url>\n    <url>\n      <loc>https://naina.app/posts</loc>\n      <priority>0.8</priority>\n    </url>\n    <url>\n      <loc>https://naina.app/work</loc>\n      <priority>0.7</priority>\n    </url>\n    <url>\n      <loc>https://naina.app/talks</loc>\n      <priority>0.5</priority>\n    </url>\n    ${postsXml}\n  </urlset>`;\n};\n\nexport default class Sitemap {\n  static async getInitialProps({\n    res\n  }) {\n    const blogPostsData = getSortedPostsData();\n    res.setHeader(\"Content-Type\", \"text/xml\");\n    res.write(sitemapXml(blogPostsData));\n    res.end();\n  }\n\n}","map":{"version":3,"sources":["/Users/nainar/nainadotapp/pages/sitemap.xml.ts"],"names":["getSortedPostsData","parseISO","format","blogPostsXml","blogPostsData","latestPost","date","postsXml","map","post","postDate","id","sitemapXml","Sitemap","getInitialProps","res","setHeader","write","end"],"mappings":"AACA,SAASA,kBAAT,QAAmC,cAAnC;AACA,SAASC,QAAT,EAAmBC,MAAnB,QAAiC,UAAjC;;AAEA,MAAMC,YAAY,GAAIC,aAAD,IAAmB;AACtC,MAAIC,UAAU,GAAGD,aAAa,CAAC,CAAD,CAAb,CAAiBE,IAAlC;AACA,MAAIC,QAAQ,GAAG,EAAf;AACAH,EAAAA,aAAa,CAACI,GAAd,CAAkBC,IAAI,IAAI;AACxB,UAAMC,QAAQ,GAAGT,QAAQ,CAACQ,IAAI,CAACH,IAAN,CAAzB;;AACA,QAAI,CAACD,UAAD,IAAeK,QAAQ,GAAGL,UAA9B,EAA0C;AACxCA,MAAAA,UAAU,GAAGK,QAAb;AACD;;AACDH,IAAAA,QAAQ,IAAK;;;+BAGcE,IAAI,CAACE,EAAG;;aAE1BF,IAAI,CAACE,EAAG;;iBAEJT,MAAM,CAACQ,QAAD,EAAW,cAAX,CAA2B;;WAP9C;AAUD,GAfD;AAgBA,SAAO;AACLH,IAAAA,QADK;AAELF,IAAAA;AAFK,GAAP;AAID,CAvBD;;AAyBA,MAAMO,UAAU,GAAIR,aAAD,IAAmB;AACpC,QAAM;AAAEG,IAAAA,QAAF;AAAYF,IAAAA;AAAZ,MAA2BF,YAAY,CAACC,aAAD,CAA7C;AACA,SAAQ;;;;mCAIyBC,UAAW;;;;;;;;;;;;;;;MAexCE,QAAS;YAnBb;AAqBD,CAvBD;;AAyBA,eAAe,MAAMM,OAAN,CAAc;AAC3B,eAAaC,eAAb,CAA6B;AAAEC,IAAAA;AAAF,GAA7B,EAA2C;AACzC,UAAMX,aAAa,GAAGJ,kBAAkB,EAAxC;AACAe,IAAAA,GAAG,CAACC,SAAJ,CAAc,cAAd,EAA8B,UAA9B;AACAD,IAAAA,GAAG,CAACE,KAAJ,CAAUL,UAAU,CAACR,aAAD,CAApB;AACAW,IAAAA,GAAG,CAACG,GAAJ;AACD;;AAN0B","sourcesContent":["import { NextPageContext } from \"next\";\nimport { getSortedPostsData } from '../lib/posts'\nimport { parseISO, format } from 'date-fns'\n\nconst blogPostsXml = (blogPostsData) => {\n  let latestPost = blogPostsData[0].date;\n  let postsXml = \"\";\n  blogPostsData.map(post => {\n    const postDate = parseISO(post.date);\n    if (!latestPost || postDate > latestPost) {\n      latestPost = postDate;\n    }\n    postsXml += `\n    <url>\n<<<<<<< HEAD\n      <loc>https://naina.app/${post.id}</loc>\n=======\n      <loc>${post.id}</loc>\n>>>>>>> 90d21c1416505563ad864017b069be39758e6f79\n      <lastmod>${format(postDate, 'LLLL d, yyyy')}</lastmod>\n      <priority>0.80</priority>\n    </url>`;\n  });\n  return {\n    postsXml,\n    latestPost\n  };\n};\n\nconst sitemapXml = (blogPostsData) => {\n  const { postsXml, latestPost } = blogPostsXml(blogPostsData);\n  return `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n    <urlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\">\n    <url>\n      <loc>https://naina.app/</loc>\n      <lastmod>https://naina.app/${latestPost}</lastmod>\n      <priority>1.00</priority>\n    </url>\n    <url>\n      <loc>https://naina.app/posts</loc>\n      <priority>0.8</priority>\n    </url>\n    <url>\n      <loc>https://naina.app/work</loc>\n      <priority>0.7</priority>\n    </url>\n    <url>\n      <loc>https://naina.app/talks</loc>\n      <priority>0.5</priority>\n    </url>\n    ${postsXml}\n  </urlset>`;\n};\n\nexport default class Sitemap {\n  static async getInitialProps({ res }: any) {\n    const blogPostsData = getSortedPostsData();\n    res.setHeader(\"Content-Type\", \"text/xml\");\n    res.write(sitemapXml(blogPostsData));\n    res.end();\n  }\n}"]},"metadata":{},"sourceType":"module"}